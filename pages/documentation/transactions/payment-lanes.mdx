import { Callout } from 'vocs/components'

# Payment Lanes

Tempo ensures that payment transactions always have available blockspace, even during periods of high network congestion from DeFi activity or complex smart contracts. This is achieved through **separate gas limits** for payment and non-payment transactions.

## Use Case: Specifying Payment vs Non-Payment Gas Limits

When blocks are constructed, validators enforce two separate gas constraints:

1. **`gasLimit`** — The total gas available for all transactions (standard Ethereum behavior)
2. **`generalGasLimit`** — The maximum gas that non-payment transactions can consume

This creates a reserved capacity for payment transactions. Even if non-payment transactions fill up to `generalGasLimit`, payment transactions can still use the remaining capacity up to `gasLimit`.

## How Your Transaction is Classified

Your transaction is automatically classified as a **payment transaction** when the recipient address (`tx.to`) matches the TIP-20 token pattern: `0x20c0000000000000000000000000000[TOKEN_ID]`.

The classification is determined by a pure function that only examines the transaction envelope—no state access is required. This means:
- **Automatic detection** based on the recipient address
- **No special flags or configuration** needed
- **Deterministic classification** that validators can verify instantly

<Callout type="info">
    Internal calls and state are ignored presently. Later upgrades may enable batched calls and other kinds of transactions to be classified as payment transactions as well.
</Callout>

For the complete technical specification of how this works at the consensus level, including the dual gas accounting mechanism, see the [Payments Lane specification](/protocol/payments-lane).

## Example: Sending a Payment

:::code-group
```ts [sendPayment.ts]
// This transaction automatically uses the payment gas limit [!code focus]
// because it's sent to a TIP-20 token address (0x20c0...) [!code focus]
const result = await client.token.transferSync({ // [!code focus]
  token: alphaUSDAddress, // TIP-20 token address // [!code focus]
  amount, // [!code focus]
  to: recipient, // [!code focus]
})
```

```ts [viem.config.ts]
// [!include ~/snippets/setup.ts:setup] 
```
:::