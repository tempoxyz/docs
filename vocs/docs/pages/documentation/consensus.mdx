# Consensus in Tempo: Commonware Simplex

Tempo uses Commonware's Implementation of the [Simplex protocol](https://simplex.blog/) as its consensus protocol, [Threshold Simplex](https://docs.rs/commonware-consensus/latest/commonware_consensus/threshold_simplex/index.html). Simplex is a new family of Byzantine fault tolerant (BFT) protocols that achieves safety and liveness with a remarkably simple structure, while also offering flexibility in the number of rounds and fault tolerance it supports. It is an evolution of earlier generations of consensus such as [PBFT](https://dl.acm.org/doi/10.1145/571637.571640) or [HotStuff](https://arxiv.org/abs/1803.05069).

---

## What is Simplex?

Simplex is a leader-based consensus protocol designed to commit one block per instance. The protocol proceeds in a series of rounds, where validators exchange votes in order to confirm a block and finalize it. One of the key innovations of Simplex is its **two-round variant**, which achieves finality in just two message rounds under normal conditions. In this form, a block proposed by the leader can be finalized quickly if the quorum of validators agrees. This provides very low latency, especially when the network is synchronous and validators are honest. While two rounds are optimal in many cases, Simplex also allows **three-round execution**, which provides additional safety guarantees in asynchronous or partially synchronous conditions.


For a clear overview of the motivation and design goals of Simplex, see [this introductory post](https://decentralizedthoughts.github.io/2025-06-18-simplex/).


## Networking Without Gossip

A key architectural choice in Commonware's implementation of Simplex is its **networking model**. Instead of relying on gossip-style message propagation, it uses **direct peer-to-peer communication** authenticated by consensus identities. Every validator talks directly to its peers using a purpose-built networking stack, rather than an off-the-shelf library optimized for gossip (like libp2p).  

This design has several advantages for high-performance consensus:

- **Predictable Delivery:** Messages are sent directly to peers rather than waiting for eventual propagation.  
- **Security by Identity:** Each connection is authenticated at the consensus level, ensuring trust in the communication path.  
- **Resilience to Withholding:** In cases where a validator withholds a block, the system uses **erasure coding** to guarantee recovery rather than relying on best-effort fetching or gossip retries.  


---

## Fault Tolerance

Another important property of Simplex is its ability to handle Byzantine failures. Like other BFT protocols, it can tolerate up to **f < n/3** faulty nodes. However, recent work has explored ways to push this boundary. For instance, variants of Simplex can extend resilience up to **f < n/5**, trading off additional rounds for stronger guarantees. This line of work is explained in [5f-1 Simplex](https://decentralizedthoughts.github.io/2025-08-06-5fminus1-simplex/).


## Learn More

If youd like to dive deeper, the following resources provide detailed technical discussions and proofs:

- [Simplex Blog](https://simplex.blog/)  
- [Intro to Simplex](https://decentralizedthoughts.github.io/2025-06-18-simplex/)  
- [Two-Round Simplex](https://decentralizedthoughts.github.io/2025-07-18-two-round-Simplex/)  
- [Two vs. Three Round Tradeoffs](https://decentralizedthoughts.github.io/2025-07-29-2-round-3-round-simplex/)  
- [5f-1 Resilience Extension](https://decentralizedthoughts.github.io/2025-08-06-5fminus1-simplex/)  

