# Minting & Burning

TIP-20 tokens support dynamic supply management through minting and burning. Only addresses with the `ISSUER_ROLE` can mint tokens, and there are different ways to burn tokens depending on your needs.

## Minting Tokens

### Basic Minting

:::code-group
```ts [mint.ts]
import { parseUnits } from 'viem'

const hash = await client.token.mint({ // [!code focus]
  amount: parseUnits('100', 6), // [!code focus]
  to: '0xdeadbeefcafebabedeadbeefcafebabedeadbeef', // [!code focus]
  token: '0x20c0000000000000000000000000000000000004', // [!code focus]
}) // [!code focus]
```

```ts [viem.config.ts]
// [!include ~/snippets/setup.ts:setup] 
```
:::

### Minting with Memo

:::code-group
```ts [mintWithMemo.ts]
import { keccak256, parseUnits } from 'viem'

const hash = await client.token.mint({ // [!code focus]
  amount: parseUnits('100', 6), // [!code focus]
  memo: keccak256('TREASURY_ALLOCATION_Q1_2024'), // [!code focus]
  to: '0xdeadbeefcafebabedeadbeefcafebabedeadbeef', // [!code focus]
  token: '0x20c0000000000000000000000000000000000004', // [!code focus]
}) // [!code focus]
```

```ts [viem.config.ts]
// [!include ~/snippets/setup.ts:setup] 
```
:::


## Burning Tokens

### Self-Burn

:::code-group
```ts [burn.ts]
import { parseUnits } from 'viem'

const hash = await client.token.burn({ // [!code focus]
  amount: parseUnits('100', 6), // [!code focus]
  token: '0x20c0000000000000000000000000000000000004', // [!code focus]
}) // [!code focus]
```

```ts [viem.config.ts]
// [!include ~/snippets/setup.ts:setup] 
```
:::

### Burn with Memo

:::code-group
```ts [burnWithMemo.ts]
import { keccak256, parseUnits } from 'viem'

const hash = await client.token.burn({ // [!code focus]
  amount: parseUnits('100', 6), // [!code focus]
  memo: keccak256('BUYBACK_AND_BURN_BATCH_1'), // [!code focus]
  token: '0x20c0000000000000000000000000000000000004', // [!code focus]
}) // [!code focus]
```

```ts [viem.config.ts]
// [!include ~/snippets/setup.ts:setup] 
```
:::

### Burn from Blocked Addresses

:::code-group
```ts [burnFromBlocked.ts]
import { parseUnits } from 'viem'

const blockedAddress = '0x810c8ed810c8ed810c8ed810c8ed810c8ed810c8' // [!code focus]

// Burn tokens from a blocked address (requires BURN_BLOCKED_ROLE) // [!code focus]
const hash = await client.token.burnBlocked({ // [!code focus]
  amount: parseUnits('100', 6), // [!code focus]
  from: blockedAddress, // [!code focus]
  token: '0x20c0000000000000000000000000000000000004', // [!code focus]
}) // [!code focus]
```

```ts [viem.config.ts]
// [!include ~/snippets/setup.ts:setup] 
```
:::

## Supply Management

### Setting Supply Caps

:::code-group
```ts [setSupply.ts]
import { parseUnits } from 'viem'

const hash = await client.token.setSupplyCap({ // [!code focus]
  supplyCap: parseUnits('1000000', 6), // [!code focus]
  token: '0x20c0000000000000000000000000000000000004', // [!code focus]
}) // [!code focus]
```

```ts [viem.config.ts]
// [!include ~/snippets/setup.ts:setup] 
```
:::

### Checking Supply

:::code-group
```ts [getSupply.ts]
const token = '0x20c0000000000000000000000000000000000004' // [!code focus]

const [totalSupply, supplyCap] = await Promise.all([ // [!code focus]
  client.token.getTotalSupply(token), // [!code focus]
  client.token.getSupplyCap(token), // [!code focus]
]) // [!code focus]

const isAtCap = totalSupply >= supplyCap // [!code focus]
```

```ts [viem.config.ts]
// [!include ~/snippets/setup.ts:setup] 
```
:::

## Minting Events

The token emits events for all minting and burning operations: watchTokenMint

:::code-group
```ts [watchMint.ts]
const token = '0x20c0000000000000000000000000000000000004' // [!code focus]

await client.token.watchMint({ // [!code focus]
  token, // [!code focus]
  onMint: (args) => { // [!code focus]
    logs.forEach((log) => { // [!code focus]
      console.log(`Minted ${args.amount} to ${args.to}`) // [!code focus]
    }) // [!code focus]
  } // [!code focus]
}) // [!code focus]

await client.token.watchBurn({ // [!code focus]
  token, // [!code focus]
  onBurn: (args) => {
    logs.forEach((log) => { // [!code focus]
      console.log(`Burned ${args.amount} from ${args.from}`) // [!code focus]
    }) // [!code focus]
  } // [!code focus]
}) // [!code focus]
```

```ts [viem.config.ts]
// [!include ~/snippets/setup.ts:setup] 
```
:::

## Security Considerations

- **Role Management**: Only grant ISSUER_ROLE to trusted addresses
- **Supply Caps**: Set appropriate limits to prevent runaway inflation
- **Memo Tracking**: Use memos to track the purpose of minting/burning
- **Regular Audits**: Monitor supply changes and ensure they align with your tokenomics

For detailed technical specifications, see the [TIP-20 Protocol Reference](/protocol/tokens/tip-20).
